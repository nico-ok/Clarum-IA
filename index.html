<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Clarum</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{
  --p:#7e5bef;           /* p√∫rpura principal   */
  --p2:#ff70a6;          /* rosa acento        */
  --p3:#4ec6e7;          /* azul-cian         */
  --bg:#f3f1ff;          /* fondo sutil       */
  --txt:#222;
}
/* RESET */
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--txt);display:flex;flex-direction:column;min-height:100vh}

/*‚Äî CABECERA ‚Äî*/
header{
  background:linear-gradient(135deg,var(--p)0%,#a186ff 100%);
  color:#fff;text-align:center;padding:2.2rem 1rem;
  box-shadow:0 2px 12px rgba(0,0,0,.06)
}
header h1{font-size:2rem;font-weight:600}
header p{opacity:.9;margin-top:.4rem;font-size:.95rem}

/*‚Äî CONTENIDO ‚Äî*/
main{flex:1;display:flex;flex-direction:column;align-items:center;padding:3rem 1rem;gap:3.2rem}

/* Hero */
#hero{max-width:900px;text-align:center;padding:2rem 2rem;border-radius:1rem;background:#fff;box-shadow:0 8px 24px rgba(0,0,0,.05)}
#hero h2{font-size:1.8rem;background:linear-gradient(135deg,var(--p)0%,var(--p2)50%,var(--p3)100%);-webkit-background-clip:text;color:transparent}
#hero p{margin-top:.7rem;font-size:1rem;opacity:.85}

/* Cards */
.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.8rem;max-width:900px;width:100%}
.card{
  background:#fff;padding:1.8rem;border-radius:1rem;box-shadow:0 6px 16px rgba(0,0,0,.05);transition:transform .25s;
}
.card:hover{transform:translateY(-4px)}
.card span{font-size:2rem}
.card h3{margin:.5rem 0;color:var(--p)}
.card p{font-size:.9rem;opacity:.85}

/* Upload box */
#uploadBox{background:#fff;padding:2rem;border-radius:1rem;box-shadow:0 8px 24px rgba(0,0,0,.05);max-width:420px;width:100%;text-align:center;display:flex;flex-direction:column;gap:1rem}
#uploadBox button{background:var(--p);color:#fff;border:none;border-radius:.6rem;padding:.8rem 1.7rem;font-size:.95rem;cursor:pointer;transition:background .2s}
#uploadBox button:hover{background:#6d4ee0}
#uploadBox input{display:none}
#upStatus{font-size:.9rem}

/* Bot√≥n Mic */
#mic{
  position:fixed;right:110px;bottom:24px;z-index:9999;
  width:58px;height:58px;border:none;border-radius:50%;
  background:var(--p);color:#fff;font-size:28px;display:flex;align-items:center;justify-content:center;
  box-shadow:0 6px 18px rgba(126,91,239,.4);cursor:pointer;transition:transform .2s
}
#mic:hover{transform:scale(1.1)}
#mic.listen{animation:pulse 1.3s infinite}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}

/* Ajuste burbuja */
#clarum-chat-frame-bubble{bottom:24px !important}

/* Footer */
footer{margin-top:auto;text-align:center;padding:1.4rem;font-size:.8rem;color:#666}
</style>

<!-- Burbuja -->
<script src="https://www.chatbase.co/embed.min.js"
        id="LtBrQRopg1Blit4oMlT9p" domain="www.chatbase.co" defer></script>
</head>
<body>
<header>
  <h1>Clarum</h1>
  <p>Organiza tu tiempo de estudio con IA</p>
</header>

<main>
  <!-- Hero -->
  <section id="hero">
    <h2>Planifica, estudia y progresa</h2>
    <p>Con Clarum conviertes tu tiempo en resultados: crea horarios, registra tareas y resuelve dudas al instante.</p>
  </section>

  <!-- Cards -->
  <div class="info-grid">
    <div class="card"><span>‚è±Ô∏è</span><h3>T√©cnicas de estudio</h3><p>Pregunta sobre Pomodoro, IVI&nbsp;LEE, regla de 2&nbsp;minutos y m√°s.</p></div>
    <div class="card"><span>üìÑ</span><h3>Lee tus PDFs</h3><p>Adjunta tu gu√≠a y Clarum la indexar√° para responderte al instante.</p></div>
    <div class="card"><span>üéß</span><h3>Playlists enfocadas</h3><p>Recibe m√∫sica para concentrarte y mantener el ritmo.</p></div>
  </div>

  <!-- Upload -->
  <div id="uploadBox">
    <p>Adjunta tu PDF de estudio (m√°x&nbsp;400&nbsp;KB) para que Clarum lo lea:</p>
    <input type="file" id="pdfInput" accept="application/pdf">
    <button id="pdfBtn">Elegir archivo‚Ä¶</button>
    <span id="upStatus"></span>
  </div>
</main>

<!-- Mic -->
<button id="mic" title="Hablar">üéôÔ∏è</button>

<footer>¬© 2025 Clarum ‚Ä¢ Powered by Chatbase</footer>

<script>
/* --- PDF upload --- */
const pdfInput=document.getElementById('pdfInput'),
      pdfBtn  =document.getElementById('pdfBtn'),
      status  =document.getElementById('upStatus');

pdfBtn.onclick=()=>pdfInput.click();
pdfInput.onchange=async()=>{
  const file=pdfInput.files[0];
  if(!file) return;
  if(file.size>400*1024){status.textContent='‚ùå M√°s de 400 KB';return;}
  status.textContent='‚è≥ Subiendo‚Ä¶';
  const fd=new FormData(); fd.append('pdf',file);
  try{
    const r=await fetch('https://clarum-backend.vercel.app/api/upload',{method:'POST',body:fd});
    if(r.ok){
      status.textContent='‚úÖ Procesado, preg√∫ntale a Clarum';
      window.chatbase && window.chatbase.open();
    }else{
      const txt=await r.text();
      status.textContent='‚ùå Error ('+r.status+'): '+txt;
    }
  }catch(err){ status.textContent='‚ùå Conexi√≥n fallida'; }
  pdfInput.value='';
};

/* --- Voz --- */
const SR=window.SpeechRecognition||window.webkitSpeechRecognition;
const mic=document.getElementById('mic');
if(!SR){mic.style.display='none';}else{
  const rec=new SR(); rec.lang='es-ES';
  mic.onclick=()=>{rec.start();mic.classList.add('listen');};
  rec.onresult=e=>{
    const msg=e.results[0][0].transcript.trim(); if(!msg) return;
    window.chatbase && window.chatbase.open();
    (function send(){
      const frame=document.querySelector('iframe[src*="chatbase"]');
      if(frame){frame.contentWindow.postMessage({type:'user_input',text:msg},'*');}
      else setTimeout(send,100);
    })();
  };
  rec.onend=()=>mic.classList.remove('listen');
}
window.addEventListener('message',e=>{
  if(e.data?.type==='bot_response'&&e.data.text){
    const u=new SpeechSynthesisUtterance(e.data.text);u.lang='es-ES';speechSynthesis.speak(u);
  }
});
</script>
</body>
</html>

